class_derivations:
  BiosampleFlat:
    populated_from: BiosampleRaw
    slot_derivations:
      biosample_id:
        populated_from: id
      biosample_name:
        populated_from: name
      env_broad_scale:
        populated_from: env_broad_scale
      env_local_scale:
        populated_from: env_local_scale
      env_medium:
        populated_from: env_medium
      collection_date:
        populated_from: collection_date
      collection_year:
        expr: 'collection_date.split("-")[0] if collection_date else NULL'
      depth_value:
        expr: 'float(depth.split(" ")[0]) if depth and len(depth.split(" ")) > 1 and depth.split(" ")[0].replace(".", "", 1).isdigit() else NULL'
      depth_unit:
        expr: 'depth.split(" ")[1] if depth and len(depth.split(" ")) > 1 else NULL'
